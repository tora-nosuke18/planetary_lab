<?xml version="1.0" ?>
<sdf version="1.7">
  <model name="rover">
    <link name="base_link">
      <collision name="collision">
        <geometry>
          <box>
            <size>1 1 1</size>
          </box>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <box>
            <size>1 1 1</size>
          </box>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Silver</name>
            </script>
          </material>
        </geometry>
      </visual>
    </link>

    <plugin name="ignition_ros_control" filename="libign_ros_control.so"/>

    <plugin name="ignition_ros_diff_drive" filename="libign_ros_diff_drive.so">
      <left_joint>left_wheel_joint</left_joint>
      <right_joint>right_wheel_joint</right_joint>
      <wheel_separation>0.300</wheel_separation>
      <wheel_radius>0.085</wheel_radius>
      <odom_frame>odom</odom_frame>
      <robot_base_frame>base_link</robot_base_frame>
      <topic>cmd_vel</topic>
    </plugin>

    <joint name="left_wheel_joint" type="revolute">
      <parent>base_link</parent>
      <child>wheel_left</child>
      <axis>
        <xyz>0 1 0</xyz>
      </axis>
    </joint>

    <joint name="right_wheel_joint" type="revolute">
      <parent>base_link</parent>
      <child>wheel_right</child>
      <axis>
        <xyz>0 1 0</xyz>
      </axis>
    </joint>

    <link name="wheel_left">
      <collision name="collision">
        <geometry>
          <cylinder>
            <radius>0.085</radius>
            <length>0.02</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <cylinder>
            <radius>0.085</radius>
            <length>0.02</length>
          </cylinder>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Silver</name>
            </script>
          </material>
        </geometry>
      </visual>
    </link>

    <link name="wheel_right">
      <collision name="collision">
        <geometry>
          <cylinder>
            <radius>0.085</radius>
            <length>0.02</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name="visual">
        <geometry>
          <cylinder>
            <radius>0.085</radius>
            <length>0.02</length>
          </cylinder>
          <material>
            <script>
              <uri>file://media/materials/scripts/gazebo.material</uri>
              <name>Gazebo/Silver</name>
            </script>
          </material>
        </geometry>
      </visual>
    </link>
  </model>
</sdf>
